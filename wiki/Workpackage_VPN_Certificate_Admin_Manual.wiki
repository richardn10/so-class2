#summary Manual for managing certificates (Admin)

All this actions have to be performed on the vpn server. Copy files from and to the svn server with scp (Linux) or WinSCP (Windows)

= Signing Certificates =

  * Person will send a .csr file. Store this file as `[`username`]`.csr in /etc/openvpn/key_manager/keys

  * Check or certificate already exists (see below). If a certificate with that name already exists, first revoke the old one (see below).

  * Move to key_manager directory and sign request
{{{
cd /etc/openvpn/key_manager
. ./vars
./sign-req [username] # No extension
}}}
This will give an error message on the end (like: chmod: cannot access 'username.key': No such file or directory). This can be ignored.

  * Send back the certificate (`[`username`]`.crt)


= Revoking a certificate =
{{{
cd /etc/openvpn/key_manager
. ./vars
./revoke-full [username] # No extension
}}}

= See the database of certificates =
{{{
less /etc/openvpn/key_manager/keys/index.txt
}}}
for all certificates
or
{{{
grep ^V /etc/openvpn/key_manager/keys/index.txt
}}}
for all valid certificates.

Every line shows a certificate. V means Valid, R means Revoked. CN is the certificate name